<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barcode Scanner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>
<body>
    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo center">Barcode Scanner</a>
        </div>
    </nav>
    <div class="container">
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">Resultado:</span>
                        <p id="barcode-result" class="flow-text"></p>
                    </div>
                </div>
            </div>
        </div>
        <video id="barcode-video" width="100%" height="auto"></video>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://rawgit.com/EddieLa/BarcodeReader/master/dist/barcode-reader.min.js"></script>
    <script>
        const videoElement = document.getElementById('barcode-video');
        const barcodeResult = document.getElementById('barcode-result');

        navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } })
            .then(function (stream) {
                videoElement.srcObject = stream;
                videoElement.play();

                const barcodeReader = new BarcodeReader();
                barcodeReader.decodeFromInputVideoDevice(stream, 'barcode-video', (result) => {
                    barcodeResult.textContent = result.text;
                });
            })
            .catch(function (error) {
                console.error('Erro ao acessar a c√¢mera:', error);
            });
    </script>
</body>
</html>
